(this.webpackJsonpgame=this.webpackJsonpgame||[]).push([[0],{25:function(e,t,s){},26:function(e,t,s){},33:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(15),c=s.n(i),l=(s(25),s(16)),r=s(17),o=s(20),u=s(19),d=s(9),h=s(2),j=(s(26),s(0)),b=function(){return Object(j.jsxs)("header",{children:[Object(j.jsx)("div",{className:"header-logo",children:"XO"}),Object(j.jsxs)("ul",{children:[Object(j.jsx)("li",{children:Object(j.jsx)(d.b,{activeClassName:"active-link",exact:!0,to:"/",children:"Game"})}),Object(j.jsx)("li",{children:Object(j.jsx)(d.b,{activeClassName:"active-link",to:"/settings",children:"Settings"})})]})]})},O=function(){return Object(j.jsxs)("footer",{children:[Object(j.jsx)("a",{href:"https://rs.school/js/",children:Object(j.jsx)("img",{src:"./img/rs_school_js.svg",height:"30",alt:""})}),Object(j.jsxs)("span",{children:["Created by ",Object(j.jsx)("a",{href:"https://github.com/VadimVelikanets",children:"Vadim Velikanets"}),",  2021"]})]})},f=function(e){return Object(j.jsxs)("div",{className:"setting",children:[Object(j.jsx)("h1",{children:"Settings"}),Object(j.jsxs)("div",{className:"settings-item",children:[Object(j.jsx)("span",{children:"Second player PC"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(t){return e.changePlayer(!0)},className:"".concat(e.isPCPlayer?"btn-active":""),children:"On"}),Object(j.jsx)("button",{onClick:function(t){return e.changePlayer(!1)},className:"".concat(e.isPCPlayer?"":"btn-active"),children:"Off"})]})]}),Object(j.jsxs)("div",{className:"settings-item",children:[Object(j.jsx)("span",{children:"Sound"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(t){return e.soundOff(!0)},className:"".concat(e.soundValue?"btn-active":""),children:"On"}),Object(j.jsx)("button",{onClick:function(t){return e.soundOff(!1)},className:"".concat(e.soundValue?"":"btn-active"),children:" Off"})]})]}),Object(j.jsxs)("div",{className:"settings-item",children:[Object(j.jsx)("span",{children:"You play for"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(t){return e.crossOrZero(!0)},className:"".concat(e.CrossZeroValue?"btn-active":""),children:"X"}),Object(j.jsx)("button",{onClick:function(t){return e.crossOrZero(!1)},className:"".concat(e.CrossZeroValue?"":"btn-active"),children:" 0"})]})]}),Object(j.jsxs)("div",{className:"settings-item",children:[Object(j.jsx)("span",{children:"Show score"}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{onClick:function(t){return e.showScore(!0)},className:"".concat(e.isShowScore?"btn-active":""),children:"On"}),Object(j.jsx)("button",{onClick:function(t){return e.showScore(!1)},className:"".concat(e.isShowScore?"":"btn-active"),children:" Off"})]})]})]})},v=s.p+"static/media/2e371cbd1ce9be1.1529ff4a.mp3",x=s.p+"static/media/win.ca3c4170.wav",m={fields:[{id:0,value:null},{id:1,value:null},{id:2,value:null},{id:3,value:null},{id:4,value:null},{id:5,value:null},{id:6,value:null},{id:7,value:null},{id:8,value:null}],count:0,xLength:0,oLength:0,winMessage:"",winner:!1,sound:!0,isYourCross:!0,isShowScore:!0,isPCPlayer:!0},g=function(e){Object(o.a)(s,e);var t=Object(u.a)(s);function s(e){var n;return Object(l.a)(this,s),(n=t.call(this,e)).audio=new Audio(v),n.audioWin=new Audio(x),n.checkWinner=function(){var e;e=n.state.isYourCross?n.state.count%2==0?"X":"0":n.state.count%2==0?"0":"X";for(var t=0;t<n.winVariants.length;t++){var s=n.winVariants[t];n.state.fields[s[0]].value==e&&n.state.fields[s[1]].value==e&&n.state.fields[s[2]].value==e&&(n.setState({winMessage:e+" won the game"}),n.setState({winner:!0}),n.state.sound&&n.audioWin.play(),setTimeout(n.restartGame,2e3))}},n.clickHander=function(e){var t,s=n.state.fields;(n.setState({count:n.state.count+1}),null===s[e].value)&&(n.state.isPCPlayer&&n.state.isYourCross?t="X":n.state.isPCPlayer&&!n.state.isYourCross?t="0":!n.state.isPCPlayer&&n.state.isYourCross?t=n.state.count%2==0?"X":"0":n.state.isPCPlayer||n.state.isYourCross||(t=n.state.count%2==0?"0":"X"),"X"==t?n.setState({xLength:n.state.xLength+1}):n.setState({oLength:n.state.oLength+1}),s[e].value=t,n.setState({fields:s}),n.checkWinner(),n.state.sound&&n.audio.play(),n.state.isPCPlayer&&setTimeout(n.enemyStep,500))},n.enemyStep=function(){if(!n.state.winner){n.setState({count:n.state.count+1});var e,t=n.state.fields,s=t.filter((function(e){return null===e.value})),a=s[Math.floor(Math.random()*s.length)];if(void 0!==a&&null===t[a.id].value)n.state.isYourCross?(e="0",n.setState({oLength:n.state.oLength+1})):(e="X",n.setState({xLength:n.state.xLength+1})),t[a.id].value=e,n.setState({fields:t}),n.checkWinner(),n.state.sound&&n.audio.play()}},n.autoplayGame=function(){if(!n.state.winner){var e=n.state.fields,t=e.filter((function(e){return null===e.value})),s=t[Math.floor(Math.random()*t.length)];if(void 0!==s&&null===e[s.id].value){var a=n.state.count%2==0?"X":"0";e[s.id].value=a,"X"==a?n.setState({xLength:n.state.xLength+1}):n.setState({oLength:n.state.oLength+1}),n.setState({fields:e,count:n.state.count+1}),n.checkWinner(),n.state.sound&&n.audio.play(),n.state.count<=9&&!n.state.winner&&setTimeout(n.autoplayGame,500)}}},n.restartGame=function(){n.setState({fields:[{id:0,value:null},{id:1,value:null},{id:2,value:null},{id:3,value:null},{id:4,value:null},{id:5,value:null},{id:6,value:null},{id:7,value:null},{id:8,value:null}],count:0,winMessage:"",winner:!1,xLength:0,oLength:0})},n.soundOff=function(e){n.setState({sound:e})},n.crossOrZero=function(e){n.setState({isYourCross:e})},n.showScore=function(e){n.setState({isShowScore:e})},n.changePlayer=function(e){n.setState({isPCPlayer:e})},n.state=m,n.winVariants=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[0,4,8],[2,4,6]],n}return Object(r.a)(s,[{key:"render",value:function(){var e=this,t=this.state.fields.map((function(t){return Object(j.jsx)("div",{data:t.id,onClick:function(){return e.clickHander(t.id)},className:"ttt-item",children:t.value},t.id)}));return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(d.a,{children:[Object(j.jsx)(b,{}),Object(j.jsx)("main",{children:Object(j.jsxs)(h.c,{children:[Object(j.jsx)(h.a,{exact:!0,path:"/",children:Object(j.jsxs)("div",{className:"tic-tac",children:[Object(j.jsxs)("div",{className:"tic-tac__inner",children:[Object(j.jsx)("div",{className:"tic-tac-toe",children:t}),this.state.isShowScore&&Object(j.jsxs)("div",{className:"score",children:[Object(j.jsx)("h2",{children:"Score"}),Object(j.jsxs)("div",{className:"score__item",children:["Player ",Object(j.jsx)("span",{children:"X"})," - ",this.state.xLength]}),Object(j.jsxs)("div",{className:"score__item",children:["Player ",Object(j.jsx)("span",{children:"0"})," - ",this.state.oLength]})]})]}),Object(j.jsx)("span",{className:"winner-txt",children:this.state.winMessage})," ",Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"btns",children:[Object(j.jsx)("button",{className:"btn-restart",onClick:function(){return e.restartGame()},children:"Restart"}),Object(j.jsx)("button",{className:"btn-autoplay",onClick:function(){return e.autoplayGame()},children:"Autoplay"})]})]})}),Object(j.jsx)(h.a,{path:"/settings",children:Object(j.jsx)(f,{crossOrZero:this.crossOrZero,soundValue:this.state.sound,soundOff:this.soundOff,CrossZeroValue:this.state.isYourCross,showScore:this.showScore,isShowScore:this.state.isShowScore,isPCPlayer:this.state.isPCPlayer,changePlayer:this.changePlayer})})]})}),Object(j.jsx)(O,{})]})})}}]),s}(a.a.Component),S=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,34)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(g,{})}),document.getElementById("root")),S()}},[[33,1,2]]]);
//# sourceMappingURL=main.2a0ad78d.chunk.js.map